<div class="container mt-4">
  <h2>Liste des candidats</h2>

  <table class="table table-bordered table-hover">
    <thead>
      <tr>
        <th>S√©lectionner</th>
        <th>Nom</th>
        <th>Pr√©nom</th>
        <th>Email</th>
        <th>Domaine</th>
        <th>Lien g√©n√©r√©</th> <!-- üî• toujours afficher l'ent√™te -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let candidat of candidats">
        <td>
          <input type="checkbox" [(ngModel)]="candidat.selected" name="selected-{{ candidat._id }}">
        </td>
        <td>{{ candidat.nom }}</td>
        <td>{{ candidat.prenom }}</td>
        <td>{{ candidat.email }}</td>
        <td>{{ candidat.domaine }}</td>
        <td>
          <!-- üî• Afficher le lien seulement si candidat.selected est true -->
          <a *ngIf="candidat.selected" [href]="generateLink(candidat)" target="_blank">
            {{ generateLink(candidat) }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="mt-3">
    <button class="btn btn-success me-2" (click)="onValiderSelection()">Valider</button>
    <button class="btn btn-primary" (click)="onSuivant()">Suivant</button>
  </div>
  <div *ngIf="validationMessage" class="alert alert-success mt-3">
    {{ validationMessage }}
  </div>
</div>
